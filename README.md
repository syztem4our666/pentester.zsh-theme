# OhMyZsh Theme: `pentester.zsh-theme`
![Prompt Screenshot](assets/zsh-theme.png)

## Overview

The `pentester.zsh-theme` is a custom theme designed to display network and target information directly in your terminal prompt. This theme is particularly useful for network security professionals, penetration testers, or anyone who needs quick access to VPN and active IP information.

## Features

- **VPN IP**: Shows the VPN IP address if connected.
- **Active IP**: Displays the active IP address of your system.
- **Target IP**: Displays a predefined target IP address if set.
- **Color-coded Prompt**: Provides a clear and colorful terminal prompt for better readability.

## Installation

To install the `pentester.zsh-theme` automatically, follow these steps:

1. **Clone the Repository**

   Clone the repository that contains the theme using the following command:

   ```bash
   git clone --recursive https://github.com/philip82148/simplerich-zsh-theme
   ```

2. **Copy the Theme File**

   After cloning, copy the `simplerich.zsh-theme` file to your Oh My Zsh themes directory:

   ```bash
   cp ./simplerich-zsh-theme/simplerich.zsh-theme ~/.oh-my-zsh/themes/
   ```

3. **Configure Your `.zshrc`**

   Set the theme to `simplerich` in your `.zshrc` file. Open your `.zshrc` in a text editor and update the `ZSH_THEME` line:

   ```bash
   ZSH_THEME="simplerich"
   ```

4. **Reload Zsh Configuration**

   Apply the changes by reloading your Zsh configuration:

   ```bash
   source ~/.zshrc
   ```

## Images

Below are some screenshots showing the theme in action:

![Prompt Screenshot](images/prompt.png)
*Example of the terminal prompt with the theme applied.*

![Theme Screenshot](images/zsh-theme.png)
*Another view of the theme in action.*

## Functions

### `get_vpn_ip`

Retrieves the IP address assigned to the VPN interface (`tun0`).

```bash
function get_vpn_ip {
  local vpn_ip=$(ip -4 addr show dev tun0 2>/dev/null | grep inet | awk '{print $2}' | cut -d/ -f1)
  echo ${vpn_ip:-"N/A"}
}
```

### `get_active_ip`

Fetches the IP address of the currently active network interface. It checks `wlan0` first, and if no IP is found, it checks `eth0`.

```bash
function get_active_ip {
  local active_ip=$(ip -4 addr show dev wlan0 2>/dev/null | grep inet | awk '{print $2}' | cut -d/ -f1)
  if [ -z "$active_ip" ]; then
    active_ip=$(ip -4 addr show dev eth0 2>/dev/null | grep inet | awk '{print $2}' | cut -d/ -f1)
  fi
  echo ${active_ip:-"No IP"}
}
```

### `get_target_ip`

Displays the target IP address. It checks the `TARGET_IP` environment variable first, then looks for a `~/.target_ip` file. If neither is found, it returns "No target set".

```bash
function get_target_ip {
  if [ -n "$TARGET_IP" ]; then
    echo "$TARGET_IP"
  elif [ -f ~/.target_ip ]; then
    cat ~/.target_ip
  else
    echo "No target set"
  fi
}
```

### `get_ip_to_show`

Determines which IP address to show based on whether a VPN IP is available or not.

```bash
function get_ip_to_show {
  local vpn_ip=$(get_vpn_ip)
  if [ "$vpn_ip" != "N/A" ]; then
    echo "VPN:$vpn_ip"
  else
    echo "IP:$(get_active_ip)"
  fi
}
```

## Prompt Format

The prompt is formatted as follows:

```
[%F{green}%n@%F{reset}] [%F{red}%~%F{reset}] [%F{cyan}$(get_ip_to_show)%F{reset}] [%F{blue}Target:$(get_target_ip)%F{reset}] -: % 
```

- `%n`: Username
- `%~`: Current directory
- `$(get_ip_to_show)`: IP address or VPN IP
- `$(get_target_ip)`: Target IP

## Customization

Feel free to modify the theme according to your preferences. You can change color codes, prompt layout, or add additional elements as needed.

## License

This theme is released under the MIT License. See the `LICENSE` file for more details.

## Contributions

Contributions are welcome! If you have suggestions or improvements, please submit a pull request or open an issue.

